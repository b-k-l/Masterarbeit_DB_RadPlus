
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8">
        <title>Cycling Speed Histogram</title>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 20px;
            }
            h1 {
                text-align: center;
                color: #333;
            }
            .plot-container {
                width: 1200px;
                height: 800px;
                margin: 0 auto;
                border: 1px solid #ddd;
            }
            .button-container {
                text-align: center;
                margin: 20px 0;
            }
            button {
                padding: 10px 15px;
                margin: 0 5px;
                background-color: #4CAF50;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
                margin-bottom: 5px;
            }
            button:hover {
                background-color: #45a049;
            }
        </style>
    </head>
    <body>
        <h1>Cycling Speed Distribution Comparison</h1>
        <div class="button-container">
    
            <button onclick="showCategory(0)">Category 1</button>
        
            <button onclick="showAll()">All Categories</button>
        </div>
        <div id="plotDiv" class="plot-container"></div>
        
        <script>
            // Data preparation
            var traces = [];
            var categories = [];
    
            categories.push([
                
                    // Trace for 23-all_weekday
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.7098554990993642, 0.23529102155911774, 0.2870618465147081, 0.39245026552156914, 0.47683264078802884, 0.7127323584563205, 0.7924525835536692, 0.812189439151835, 0.9510026796773979, 1.1923452230119107, 1.5084069116855912, 1.9628402594829046, 2.312254998009428, 3.033654125880895, 3.365298444349777, 4.144406080723866, 5.159112905603507, 5.367869044561162, 5.4355398550996945, 6.373251827612184, 7.045071187411834, 7.113523777988504, 6.59076079618157, 5.898598751781075, 5.2221542791880164, 5.3203252041110565, 4.594008659588958, 3.5673309365668855, 2.7892793119168893, 2.077355994511278, 1.5473923452455258, 3.0093507451654786],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Weekday (μ=19.7, 403,453 Segments)',
                        hovertemplate: '<b>2023 Weekday (μ=19.7, 403,453 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(31, 119, 180)'
                        }
                    }
                , 
                    // Trace for 24-all_weekday
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6615181521089049, 0.23039403818673784, 0.2350198016121514, 0.29915136378291185, 0.3037289440630688, 0.5629051976799374, 0.7065879039627487, 0.6465367328091552, 0.7683408883809419, 0.999328414065893, 1.2995201617507641, 1.8264057134546465, 2.061638097107382, 3.0501497580246983, 3.1330459330613363, 4.09383681422016, 5.7269915014495805, 5.60458678062943, 5.085861988274785, 6.7702217705391625, 7.942058321427091, 7.992207198362636, 7.066980786715849, 5.822664739575571, 4.551077349811371, 5.188913712877588, 4.575756625238278, 3.561666043331631, 2.7271033426056155, 2.000339585915211, 1.5190232211527295, 2.9864391178220346],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Weekday (μ=19.8, 354,370 Segments)',
                        hovertemplate: '<b>2024 Weekday (μ=19.8, 354,370 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 23-all_weekend
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.7294484383375776, 0.24623001110476986, 0.2988534025382152, 0.4025616861138212, 0.496348158590854, 0.7590637017564855, 0.8564572190611176, 0.8878634978035769, 1.0618044775315254, 1.343290916123247, 1.7028275334323848, 2.2093381480175722, 2.5840228442724134, 3.3669234489592768, 3.676220314251708, 4.459031207064113, 5.449492698004579, 5.587716904530607, 5.585543553817704, 6.446962823144843, 6.9867826596545335, 6.90411571115578, 6.305695789950619, 5.5708535311534995, 4.8704117909011915, 4.926991747338529, 4.229461403314519, 3.2882619067117593, 2.590584699770394, 1.923266228568592, 1.4376215954152858, 2.815951951608906],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Weekend (μ=19.3, 309,451 Segments)',
                        hovertemplate: '<b>2023 Weekend (μ=19.3, 309,451 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(44, 160, 44)'
                        }
                    }
                , 
                    // Trace for 24-all_weekend
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6805318954628616, 0.23534414541911008, 0.24213952992995996, 0.308780369334124, 0.32475335829544466, 0.6283144342661016, 0.7762107125302249, 0.7165312483039171, 0.8574703695059576, 1.1164294798555983, 1.4454299339420105, 2.0549038416534713, 2.3050812255292947, 3.4328150994309325, 3.4642395932627807, 4.484224668038155, 6.186561911459097, 5.881890768020757, 5.179604331023172, 6.791355429153763, 7.7884650371842765, 7.668440271345514, 6.689362170886966, 5.446597623995688, 4.195776554090588, 4.770524667471522, 4.20151350399535, 3.301248865817018, 2.5528703747448573, 1.8901989188253754, 1.4585777226942545, 2.9238119445318587],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Weekend (μ=19.5, 263,665 Segments)',
                        hovertemplate: '<b>2024 Weekend (μ=19.5, 263,665 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 23-all_weekday_day
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.7155715304308797, 0.23747408606067572, 0.2903824810241389, 0.3970289474642329, 0.48148768582706786, 0.7200741362416561, 0.8002767044098268, 0.8197239481749419, 0.9584566150921523, 1.2004959470309786, 1.5171110993485604, 1.9703896843386888, 2.317694742573252, 3.0348600042859473, 3.3658404049937927, 4.140817529125689, 5.15554234268397, 5.369700657661149, 5.444685912006661, 6.382086593971533, 7.053117284555534, 7.115662484901988, 6.588305348739119, 5.885687615279543, 5.1977945962374825, 5.2820204159206, 4.569778971610165, 3.5548664117809277, 2.784715355735523, 2.0774469761948744, 1.5505649702852107, 3.0203385160132363],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Weekday Day (μ=19.6, 399,923 Segments)',
                        hovertemplate: '<b>2023 Weekday Day (μ=19.6, 399,923 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(31, 119, 180)'
                        }
                    }
                , 
                    // Trace for 23-all_weekday_night
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.4735923575859454, 0.15878107014238857, 0.19417332764702666, 0.2720932019305837, 0.3557113046490773, 0.530810282960817, 0.5959189228340186, 0.6181711661575378, 0.7479409142329722, 0.9616524221666749, 1.2619424478369239, 1.731353341454473, 2.109189755039791, 2.9021646496865983, 3.2618506502895968, 4.132439924135511, 5.188361795928483, 5.310134651335992, 5.2725853004911585, 6.257023185297959, 6.992823929780166, 7.189478939294615, 6.75572481721824, 6.246210708360859, 5.780959856800297, 6.161526632702878, 5.175833703303715, 3.898627212200043, 2.9492677073263582, 2.1317689153591686, 1.5258548080776961, 2.856032097772435],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Weekday Night (μ=20.1, 149,967 Segments)',
                        hovertemplate: '<b>2023 Weekday Night (μ=20.1, 149,967 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(31, 119, 180)'
                        }
                    }
                , 
                    // Trace for 24-all_weekday_day
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6671127064536658, 0.2353487039038414, 0.24077899468244365, 0.3077446424549708, 0.31391800730620134, 0.5874462754349988, 0.7335640011525293, 0.6706586766418288, 0.7989406763091825, 1.0409048569616033, 1.3530293194067236, 1.8984301535303651, 2.1371699884793807, 3.1595031463848358, 3.2290986754755413, 4.207731048834361, 5.876742376196204, 5.715600357205393, 5.151369416979025, 6.832475706622253, 7.9690653859365375, 7.953652149041164, 6.966623520611296, 5.680731223094794, 4.408109229751691, 5.0094166591229365, 4.436725041513214, 3.443304863472845, 2.6334182646284767, 1.9358680280061566, 1.4755396643835479, 2.9299782400219936],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Weekday Day (μ=19.7, 347,128 Segments)',
                        hovertemplate: '<b>2024 Weekday Day (μ=19.7, 347,128 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 24-all_weekday_night
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.5088463812441932, 0.16744194989955857, 0.17009610290308658, 0.2107145867849836, 0.2023793694359071, 0.3411990794455849, 0.4621525654872482, 0.42748969251158575, 0.4955177849111093, 0.6339440390588728, 0.8383744924825215, 1.2145590827688768, 1.4267933141902076, 2.1497413710523268, 2.34714197152076, 3.1712100111469557, 4.537244933664275, 4.730763936823497, 4.5734053333345885, 6.306337542711775, 7.785020968539229, 8.368051129148926, 7.926635047127774, 6.998354368321082, 5.724116005933809, 6.667250201549237, 5.730894444854517, 4.540002574284913, 3.4977349523201298, 2.5289522639300137, 1.8745878859294711, 3.4430466166829863],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Weekday Night (μ=21.0, 159,521 Segments)',
                        hovertemplate: '<b>2024 Weekday Night (μ=21.0, 159,521 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 23-all_weekend_day
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.7373323129931971, 0.24952064814087868, 0.30323719614571765, 0.4081145223565759, 0.500809373308657, 0.7657767233700639, 0.8629837208022504, 0.8921681543106408, 1.0651352943218617, 1.3459442448987096, 1.7026041940102796, 2.2018143012066833, 2.570264297385747, 3.340384081831978, 3.6546568454776134, 4.4308439412366045, 5.411760156464532, 5.5655267704927835, 5.577786468739075, 6.435888671970473, 6.985604168439773, 6.913304969848499, 6.321378693031661, 5.584910929812174, 4.876142796023633, 4.92766901097388, 4.23491165460115, 3.2989428779630794, 2.605488410284825, 1.9372504504046757, 1.4493310027569897, 2.842513116395339],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Weekend Day (μ=19.3, 304,392 Segments)',
                        hovertemplate: '<b>2023 Weekend Day (μ=19.3, 304,392 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(44, 160, 44)'
                        }
                    }
                , 
                    // Trace for 23-all_weekend_night
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.43819229068279425, 0.15182096394571906, 0.1930139984824442, 0.2825749498394286, 0.37611420854815875, 0.5864499761251812, 0.6853519192348175, 0.7478123395893957, 0.9315109302892958, 1.203538177785993, 1.5793965466330748, 2.176425494397786, 2.6291807493985457, 3.590226951845496, 3.8256918633949604, 4.743994358450325, 5.9151645500550725, 5.861812023058832, 5.677496574413002, 6.667681497480939, 7.16633865884991, 6.95782219581388, 6.269310656270763, 5.512334991387796, 4.8833246596568, 5.075417635215369, 4.338728637296127, 3.3009262605310905, 2.5253325720680895, 1.8254560644704674, 1.3382036684428338, 2.543353636345611],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Weekend Night (μ=19.4, 89,794 Segments)',
                        hovertemplate: '<b>2023 Weekend Night (μ=19.4, 89,794 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(44, 160, 44)'
                        }
                    }
                , 
                    // Trace for 24-all_weekend_day
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6845392571978726, 0.23947357842411346, 0.24640089334206594, 0.31655796860291247, 0.33392684570706616, 0.6514147945624995, 0.80149966895468, 0.7392804836639064, 0.8866289727173058, 1.1539306968650194, 1.4936118717053917, 2.1214848729706066, 2.3729774561683197, 3.5277881540432516, 3.543388655641908, 4.573336377432641, 6.293884713362549, 5.957642947762227, 5.223322009883195, 6.826652187700436, 7.796275487005263, 7.625196016212662, 6.603526618918883, 5.332356655779394, 4.088100645620429, 4.640694615107397, 4.087657461446441, 3.209657365714822, 2.4806147766428914, 1.8361970760456165, 1.4257358734998749, 2.886245001298357],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Weekend Day (μ=19.4, 255,567 Segments)',
                        hovertemplate: '<b>2024 Weekend Day (μ=19.4, 255,567 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 24-all_weekend_night
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.4340732471733542, 0.14308600701866606, 0.15522143587668513, 0.19073436904195304, 0.18774086646278793, 0.3370239789634574, 0.46335918253414493, 0.4306603980131991, 0.5029195361623695, 0.6661820067845153, 0.8829517346348188, 1.3192318892730983, 1.5604287689826604, 2.4280602613164626, 2.622267264163518, 3.5684156388397983, 5.136191940686526, 5.1625629475729395, 4.782844191453288, 6.530944647523867, 7.8403727090919055, 8.243726897558439, 7.653637078730595, 6.665101390786423, 5.332075475791186, 6.1312988151768035, 5.428021290268621, 4.294218309831548, 3.317976907087684, 2.458796401350412, 1.807205264198552, 3.322669147649719],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Weekend Night (μ=20.7, 82,367 Segments)',
                        hovertemplate: '<b>2024 Weekend Night (μ=20.7, 82,367 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 23-all_rush_am
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6038746703181781, 0.20440522860186186, 0.2589918264537654, 0.35925687355853453, 0.4262767226075332, 0.6037934820450315, 0.6807616118090817, 0.6927876041836781, 0.8017362558500906, 0.9913291533603054, 1.2503214738603576, 1.6065878852443052, 1.8784409716617143, 2.456114885246889, 2.780062188339855, 3.519809715503561, 4.541083261335831, 4.927811661018315, 5.177202685978813, 6.304657071496203, 7.22050995019679, 7.538013819274999, 7.165935127114725, 6.521718942557886, 5.8405955241847, 6.048248201371383, 5.228142728187131, 4.028722266878425, 3.1294741191983464, 2.308091536362466, 1.6942039476067008, 3.2110386085925424],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Rush Am (μ=20.3, 281,370 Segments)',
                        hovertemplate: '<b>2023 Rush Am (μ=20.3, 281,370 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(214, 39, 40)'
                        }
                    }
                , 
                    // Trace for 23-all_rush_pm
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6778516803541291, 0.24031577574597848, 0.29830272761228627, 0.4069018877905336, 0.48750618541297225, 0.7356250132490333, 0.8162430144606831, 0.8408887769115322, 0.9865677083098138, 1.2347955938766817, 1.5547366457179541, 2.0254890513543127, 2.394903628891496, 3.1394483940056137, 3.457126926169808, 4.225967726718444, 5.218333480721859, 5.392097989581614, 5.455268038575664, 6.3325342063872885, 6.936378368494163, 6.9714242986820825, 6.440625477290392, 5.781183855313074, 5.138506433550001, 5.221727117491755, 4.513912182462759, 3.5185723213633247, 2.7701605746686355, 2.0938673920958526, 1.5763617659677525, 3.116375760772509],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Rush Pm (μ=19.6, 315,661 Segments)',
                        hovertemplate: '<b>2023 Rush Pm (μ=19.6, 315,661 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(214, 39, 40)'
                        }
                    }
                , 
                    // Trace for 23-all_rush_combined
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6681451645975908, 0.2298985642029161, 0.28594259759593516, 0.3905462356405978, 0.46551762235771427, 0.6832260836412081, 0.7625353654048941, 0.7815044522618251, 0.9110769706002788, 1.1333845127709514, 1.4263490146042466, 1.844711048606456, 2.1688583980786658, 2.835192122291154, 3.154929805673068, 3.906778044952007, 4.908298036799211, 5.1774930701990876, 5.323450120364274, 6.310944379407031, 7.054380444775661, 7.215951798153874, 6.757906604722819, 6.107278549401244, 5.447818668421094, 5.585887473295177, 4.827223567100824, 3.7418429460429476, 2.926592698373322, 2.1862304463033406, 1.6262226373403694, 3.1538825560202146],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2023 Rush Combined (μ=19.9, 357,901 Segments)',
                        hovertemplate: '<b>2023 Rush Combined (μ=19.9, 357,901 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(214, 39, 40)'
                        }
                    }
                , 
                    // Trace for 24-all_rush_am
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.5849970920110642, 0.21621071860697225, 0.2238332189940751, 0.2868580972450359, 0.28377326051730756, 0.5109683706241219, 0.6687963176587782, 0.607154170353376, 0.704492260473926, 0.907445462372221, 1.1707884591644824, 1.62928332508343, 1.8337397354033713, 2.7213945599235947, 2.8471552581028883, 3.7953449762082787, 5.463511070494342, 5.500614891190058, 5.113983306407844, 6.97117128821726, 8.322951175878961, 8.464849985315198, 7.4930468571365445, 6.12463792345534, 4.7559582440278705, 5.451640140010459, 4.7936085505551205, 3.6491547152638004, 2.7305722273820314, 1.962485295910236, 1.4526610670190272, 2.7569179789929845],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Rush Am (μ=20.0, 232,315 Segments)',
                        hovertemplate: '<b>2024 Rush Am (μ=20.0, 232,315 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 24-all_rush_pm
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6072653150982655, 0.2241647230487245, 0.23513588461115761, 0.30196353067549603, 0.3025840916615359, 0.572852199012892, 0.7014566797071925, 0.6422643243876023, 0.7716498679060264, 1.0203845935973659, 1.333841531758639, 1.872408754803057, 2.123990005190797, 3.125934413471296, 3.2055771473873182, 4.164328650816991, 5.802285575538157, 5.64716124084835, 5.088777191003231, 6.738846931165768, 7.8653886549972185, 7.887899422131965, 6.94599507715496, 5.691935719127613, 4.44538896940556, 5.066076173844894, 4.544399078854431, 3.562734246926963, 2.7651026827689296, 2.05151858256805, 1.5726635009682817, 3.1180252395612733],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Rush Pm (μ=19.8, 252,299 Segments)',
                        hovertemplate: '<b>2024 Rush Pm (μ=19.8, 252,299 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                , 
                    // Trace for 24-all_rush_combined
                    {
                        x: Array.from({length: 32}, (_, i) => i),
                        y: [0.6232058531380659, 0.22734891457374182, 0.23532861462253626, 0.30038158258700987, 0.3003788599165717, 0.5544499721038845, 0.6971661796701909, 0.6359272259840528, 0.7524299689400114, 0.9819263796626719, 1.2743376086814961, 1.7769499268486317, 2.0042716147179913, 2.954902848263324, 3.051656599603558, 4.0033455296588265, 5.648918033483867, 5.578166069286629, 5.096870188170183, 6.836225522244906, 8.05983096246131, 8.133213148212473, 7.178461213914221, 5.873863155155649, 4.574241000125701, 5.224547867800098, 4.641435896987599, 3.5882136285931314, 2.7379629872329585, 2.002193160614961, 1.5105677929509294, 2.941281693792818],
                        type: 'scatter',
                        mode: 'lines',
                        name: '2024 Rush Combined (μ=19.9, 301,928 Segments)',
                        hovertemplate: '<b>2024 Rush Combined (μ=19.9, 301,928 Segments)</b><br>' +
                                      'Speed: %{x} km/h<br>' +
                                      'Frequency: %{y:.2f}%',
                        line: {
                            width: 3,
                            color: 'rgb(255, 127, 14)'
                        }
                    }
                
            ]);
        
            // Layout configuration
            var layout = {
                title: {
                    text: 'DB Rad+ Daten: Vergleich zeitlich gefilterter Geschwindigkeitshistogramme',
                    font: {
                        size: 24
                    }
                },
                xaxis: {
                    title: {
                        text: 'Geschwindigkeit (km/h)',
                        font: {
                            size: 18
                        }
                    },
                    tickmode: 'linear',
                    tick0: 0,
                    dtick: 2,
                    range: [0, 31]
                },
                yaxis: {
                    title: {
                        text: 'Wert (%)',
                        font: {
                            size: 18
                        }
                    },
                    range: [0, null]
                },
                legend: {
                    font: {
                        size: 12
                    },
                    x: 1.02,
                    y: 1,
                    xanchor: 'left',
                    bordercolor: '#E2E2E2',
                    borderwidth: 1
                },
                width: 1200,
                height: 800,
                autosize: false,
                hovermode: 'closest',
                margin: {
                    l: 80,
                    r: 350,  // Extra space for legend
                    t: 80,
                    b: 80
                },
                template: 'plotly_white'
            };
            
            // Function to show a specific category
            function showCategory(index) {
                if (index >= 0 && index < categories.length) {
                    Plotly.newPlot('plotDiv', categories[index], layout, {responsive: false});
                }
            }
            
            // Function to show all categories
            function showAll() {
                var allTraces = [].concat(...categories);
                Plotly.newPlot('plotDiv', allTraces, layout, {responsive: false});
            }
            
            // Initialize with the first category
            showCategory(0);
        </script>
    </body>
    </html>
    